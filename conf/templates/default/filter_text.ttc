#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.22
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1168362960',
        'name' => 'filter_text.tt',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    
    
#line 93 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    
    # MACRO
    $stash->set('render_textfield', sub {
        my $output = '';
        my (%_tt_args, $_tt_params);
        @_tt_args{ 'filter', 'param_name', 'parent_filter' } = splice(@_, 0, 3);
        $_tt_params = shift;
        $_tt_params = { } unless ref($_tt_params) eq 'HASH';
        $_tt_params = { %_tt_args, %$_tt_params };
    
        my $stash = $context->localise($_tt_params);
        eval {
#line 10 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $stash->set('dataset_name', $stash->get(['filter', 0, 'pointedFromDataset', 0]) || $stash->get(['filter', 0, 'dataSetName', 0]));
    
#line 15 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    if ($stash->get('parent_filter')) {
#line 1 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $stash->set('filtercollection_param_name', ($stash->get('dataset_name') . "__filtercollection." . $stash->get(['parent_filter', 0, 'filterCollection', 0, 'name', 0])));
    
    }
    else {
#line 1 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $stash->set('filtercollection_param_name', ($stash->get('dataset_name') . "__filtercollection." . $stash->get(['filter', 0, 'filterCollection', 0, 'name', 0])));
    
    }
    
#line 2 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $stash->set('onblur_js', ("\nif(filterEltHasValue(this)) {\n    checkFilterCollectionCheckbox('" . $stash->get('filtercollection_param_name') . "');\n};\n"));
    
#line 21 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $stash->set('onblur_js', $stash->get(['onblur_js', 0, 'replace', [ ('' . "\n"), '' ]]));
    
#line 88 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    if ($stash->get(['filter', 0, 'multipleValues', 0]) || $stash->get(['filter', 0, 'filter', 0, 'multipleValues', 0])) {
    
    $output .=  "<textarea name=\"";
#line 25 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('param_name');
    $output .=  "\" cols=\"25\" rows=\"4\" onblur=\"";
#line 25 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('onblur_js');
    $output .=  "\">\n[* session.param(\"";
#line 26 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('param_name');
    $output .=  "\") || '' *]\n</textarea>\n<br />";
    
    $output .=  "<input type=\"file\" name=\"";
#line 30 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('param_name');
    $output .=  "__file\" value=\"\" size=\"16\" onchange=\"";
#line 30 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('onblur_js');
    $output .=  "\" />\n<input type=\"hidden\" name=\"upload_file_params\" value=\"";
#line 31 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('param_name');
    $output .=  "__file\" />\n";
    }
    else {
    
    $output .=  "<input type=\"text\" name=\"";
#line 35 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('param_name');
    $output .=  "\" value=\"\n[* IF session.param(\"";
#line 36 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('param_name');
    $output .=  "\").defined() *]\n  [* session.param(\"";
#line 37 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('param_name');
    $output .=  "\") *]\n[* ELSE *]";
#line 39 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get(['filter', 0, 'defaultValue', 0]) || '';
    $output .=  "[* END *]\n\" \n\n\n";
#line 45 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $stash->set('autocomplete', $stash->get(['filter', 0, 'autoCompletion', 0]));
    
#line 51 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    if ($stash->get('autocomplete')) {
    $output .=  "		onblur=\"";
#line 47 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('onblur_js');
    $output .=  "\" />";
    
    }
    else {
    $output .=  "		onblur=\"";
#line 50 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('onblur_js');
    $output .=  "\" />";
    }
    
#line 53 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $stash->set('buttonURL', $stash->get(['filter', 0, 'buttonURL', 0]));
    
#line 55 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $stash->set('functionName', $stash->get('param_name'));
    
#line 57 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $stash->set('functionName', $stash->get(['functionName', 0, 'replace', [ '\.', '__' ]]));
    
#line 79 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    if ($stash->get('buttonURL')) {
    $output .=  "<input type='button' \n               name=\"";
#line 61 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('param_name');
    $output .=  "__button\"\n	       value=\"browse\" onclick=\"func__";
#line 62 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('functionName');
    $output .=  "__button();\"\n					/>\n\n	<script language=\"JavaScript\" type=\"text/javascript\" >\n	//<![CDATA[\n		function func__";
#line 67 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('functionName');
    $output .=  "__button()\n		{\n		 	var nW = window.open(\"";
#line 69 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get('buttonURL');
    $output .=  "\", \"";
#line 69 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    $output .=  $stash->get(['filter', 0, 'internalName', 0]);
    $output .=  "\",\n                                                               \"menubar=no,scrollbars=yes,width=800,height=800\");\n                                       if( nW.opener == null ){\n                                       nW.opener = window;\n                	}\n		}\n\n	//]]>\n	</script>\n	";
    }
    
#line 85 "/Users/do2/projects/htgt_mart/server/conf/templates/default/filter_text.tt"
    if ($stash->get(['filter', 0, 'graph', 0])) {
    $output .=  "	";
    
    }
    
    $output .=  "\n";
    }
    
    $output .=  "\n\n\n";
        };
        $stash = $context->delocalise();
        die $@ if $@;
        return $output;
    });
    
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
